<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/iron-form/iron-form.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/gold-zip-input/gold-zip-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<dom-module id="register-page">
    <template>
        <style include="iron-flex iron-flex-alignment">
            :host {
                display: block;
            }

            paper-input {
                margin: 8px;
            }

            paper-dropdown-menu {
                margin: 8px;
            }

            paper-button {
                margin: 8px;
            }

            gold-zip-input {
                margin: 8px;
            }
        </style>
        <paper-card>
            <iron-form allow-redirect="true" id="registerForm">
                <form method="post" action="/api/register.php">
                    <div class="layout horizontal">
                        <paper-input name="first_name" label="First name" required pattern="[a-zA-Z\-']*"></paper-input>
                        <paper-input name="last_name" label="Last name" required pattern="[a-zA-Z\-']*"></paper-input>
                    </div>
                    <div class="layout horizontal">
                        <paper-input required name="address1" label="Address 1" required pattern="[0-9]*\s([0-9a-zA-Z]*\s?\-?)*"></paper-input>
                        <paper-input name="address2" label="Address 2"></paper-input>
                        <paper-input name="city" label="City" required pattern="([a-zA-Z]*\s?)*"></paper-input>
                    </div>
                    <div class="layout horizontal">
                        <paper-dropdown-menu required name="state" label="State">
                            <paper-listbox slot="dropdown-content">
                                <template is="dom-repeat" items="[[state_list]]">
                                    <paper-item value="[[item]]">[[item]]</paper-item>
                                </template>
                            </paper-listbox>
                        </paper-dropdown-menu>
                        <gold-zip-input name="zip_code" label="Zip Code"></gold-zip-input>
                        <paper-dropdown-menu required name="country" label="Country">
                            <paper-listbox slot="dropdown-content">
                                <paper-item value="United States">United States</paper-item>
                            </paper-listbox>
                        </paper-dropdown-menu>
                    </div>
                    <paper-button raised on-click="submit">Submit</paper-button>
                </form>
            </iron-form>
        </paper-card>
    </template>

    <script>
        /**
         * @customElement
         * @polymer
         */
        class RegisterPage extends Polymer.Element {
            static get is() {
                return 'register-page';
            }

            submit() {
                var form = this.$.registerForm;
                form.submit();
            }

            static get properties() {
                return {
                    state_list: {
                        value: [
                            "Alabama",
                            "Alaska",
                            "Arizona",
                            "Arkansas",
                            "California",
                            "Colorado",
                            "Connecticut",
                            "Delaware",
                            "Florida",
                            "Georgia",
                            "Hawaii",
                            "Idaho",
                            "Illinois",
                            "Indiana",
                            "Iowa",
                            "Kansas",
                            "Kentucky",
                            "Louisiana",
                            "Maine",
                            "Maryland",
                            "Massachusetts",
                            "Michigan",
                            "Minnesota",
                            "Mississippi",
                            "Missouri",
                            "Montana",
                            "Nebraska",
                            "Nevada",
                            "New Hampshire",
                            "New Jersey",
                            "New Mexico",
                            "New York",
                            "North Carolina",
                            "North Dakota",
                            "Ohio",
                            "Oklahom",
                            "Oregon",
                            "Pennsylvania",
                            "Rhode Island",
                            "South Dakota",
                            "Tennessee",
                            "Texas",
                            "Utah",
                            "Vermont",
                            "Virginia",
                            "Washington",
                            "West Virginia",
                            "Wisconsin",
                            "Wyoming"
                        ]
                    }
                };
            }
        }

        window.customElements.define(RegisterPage.is, RegisterPage);
    </script>
</dom-module>
